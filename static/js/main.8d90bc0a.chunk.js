(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(7),c=n.n(a),s=(n(12),n(13),n(2)),o=n(4),u=function(e,t,n,r){var i=Object(o.a)(e.target.parentElement.children),a={min:Number(e.target.id),max:Number(e.target.id)+n.length-1},c=a.min,s=a.max,u=t.Ships.map((function(e){return e.hull.some((function(e){return Number(e)>=c&&Number(e)<=s}))})).filter((function(e){return!0===e}));if(c>=1&&c<=10&&s>=1&&s<=10&&!u[0]||c>=11&&c<=20&&s>=11&&s<=20&&!u[0]||c>=21&&c<=30&&s>=21&&s<=30&&!u[0]||c>=31&&c<=40&&s>=31&&s<=40&&!u[0]||c>=41&&c<=50&&s>=41&&s<=50&&!u[0]||c>=51&&c<=60&&s>=51&&s<=60&&!u[0]||c>=61&&c<=70&&s>=61&&s<=70&&!u[0]||c>=71&&c<=80&&s>=71&&s<=80&&!u[0]||c>=81&&c<=90&&s>=81&&s<=90&&!u[0]||c>=91&&c<=100&&s>=91&&s<=100&&!u[0]){var l=i.filter((function(e){return e.id<=s&&e.id>=c}));r(l),l.forEach((function(e){return e.className+=" highlighted"}))}else r(null)},l=function(e){e&&e.forEach((function(e){return e.className="grid-item"}))},h=function(e,t,n,r,i,a){if(t){var c=t.map((function(e){return Number(e.id)}));n.placeShip(r.name,c),t.forEach((function(e){e.className="grid-item selected",e.disabled=!0}))}if(7===n.Ships.length)return i(null),a(!0),void Object(o.a)(e.target.parentElement.children).forEach((function(e){return e.disabled=!0}));i(n.availableToPlace[0])};function b(e,t){return Math.floor(Math.random()*(t-e+1))+e}n(14);var p=n(0),f=function(e){var t=e.player,n=e.currentShip,a=e.setCurrentShip,c=e.setStartGame,o=e.turn,f=e.setTurn,d=e.setTitleText,m=Object(r.useState)(),j=Object(s.a)(m,2),O=j[0],g=j[1],v=Object(r.useState)(i.a.createRef()),S=Object(s.a)(v,1)[0],x=Object(r.useState)(i.a.createRef()),y=Object(s.a)(x,1)[0],N=function(){for(var e=[],r=0;r<100;r++)e.push(Object(p.jsx)("button",{id:r+1,className:"grid-item",onMouseOver:function(e){return u(e,t,n,g)},onMouseOut:function(){return l(O)},onClick:function(e){return h(e,O,t,n,a,c)}},r));return e}(),k=function(){for(var e=[],n=0;n<100;n++)e.push(Object(p.jsx)("button",{id:n+1,className:"grid-item",onClick:function(e){t.checkLoss()?d("".concat(t.board," Lost You Win!")):(t.receiveAttack(e),f("Computer"))}},n));return e}();return Object(r.useEffect)((function(){if("Computer"===o&&"Player1"===t.board&&!t.checkLoss()){var e=function(e){for(var t=b(1,100);e.current.children[t-1].classList.contains("miss")||e.current.children[t-1].classList.contains("hit");)t=b(1,100);return t}(S);t.receiveAttack({target:S.current.children[e-1]}),f("Player1")}"Computer"===o&&"Player1"===t.board&&t.checkLoss()&&d("".concat(t.board," Lost! Computer Wins!"))}),[o,t,f,S,d]),Object(p.jsx)("div",{className:"grid-container",id:t.board,ref:"Player1"===t.board?S:y,children:"Player1"===t.board?N.map((function(e){return e})):k.map((function(e){return e}))})},d=function(e,t){return{type:e,hull:Object(o.a)(t),hits:[],hit:function(e){this.hits.push(e)},isSunk:function(){return this.hull.length===this.hits.length}}},m=function(e){return{board:e,availableToPlace:[{name:"Submarine1",length:1},{name:"Submarine2",length:1},{name:"Destroyer1",length:2},{name:"Destroyer2",length:2},{name:"Cruiser",length:3},{name:"Battleship",length:4},{name:"Aircraft Carrier",length:5}],Ships:[],placeShip:function(e,t){var n=this.availableToPlace.map((function(e){return e.name}));if(n.includes(e)){this.Ships.push(d(e,t));var r=n.indexOf(e);this.availableToPlace.splice(r,1)}else console.log("This ship is no longer available to be placed.")},receiveAttack:function(e){var t=this.Ships.find((function(t){return!!t.hull.includes(Number(e.target.id))&&(t.hit(Number(e.target.id)),!0)}));e.target.classList=t?"grid-item hit":"grid-item miss",e.target.disabled=!0},checkLoss:function(){return 7===this.Ships.map((function(e){return e.isSunk()})).filter((function(e){return!0===e})).length}}},j=(n(16),m("Player1")),O=m("Computer"),g=function(){for(var e={horizontal:[{A:[1,2,3,4,5,6,7,8,9,10]},{B:[11,12,13,14,15,16,17,18,19,20]},{C:[21,22,23,24,25,26,27,28,29,30]},{D:[31,32,33,34,35,36,37,38,39,40]},{E:[41,42,43,44,45,46,47,48,49,50]},{F:[51,52,53,54,55,56,57,58,59,60]},{G:[61,62,63,64,65,66,67,68,69,70]},{H:[71,72,73,74,75,76,77,78,79,80]},{I:[81,82,83,84,85,86,87,88,89,90]},{J:[91,92,93,94,95,96,97,98,99,100]}],vertical:{}},t={length:1,position:[]},n={length:1,position:[]},r={length:2,position:[]},i={length:2,position:[]},a={length:3,position:[]},c={length:4,position:[]},s={length:5,position:[]},o=[t,n,r,i,a,c,s],u=[],l=0;l<100;l++)u.push(l+1);for(var h=function(t){var n=b(1,100),r=n+o[t].length;if(u.includes(n)&&e.horizontal.some((function(e){return e[Object.keys(e)].includes(n)&&e[Object.keys(e)].includes(r)}))){var i=u.indexOf(n);o[t].position=u.splice(i,o[t].length)}else t--;p=t},p=0;p<o.length;p++)h(p);return{submarine1:t,submarine2:n,destroyer1:r,destroyer2:i,cruiser:a,battelship:c,aircraftcarrier:s}}(),v=g.submarine1,S=g.submarine2,x=g.destroyer1,y=g.destroyer2,N=g.cruiser,k=g.battelship,C=g.aircraftcarrier;O.placeShip("Submarine1",v.position),O.placeShip("Submarine2",S.position),O.placeShip("Destroyer1",x.position),O.placeShip("Destroyer2",y.position),O.placeShip("Cruiser",N.position),O.placeShip("Battleship",k.position),O.placeShip("Aircraft Carrier",C.position);var T=function(){var e=Object(r.useState)(j.availableToPlace[0]),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)("horizontal"),c=Object(s.a)(a,2),o=(c[0],c[1],Object(r.useState)(!1)),u=Object(s.a)(o,2),l=u[0],h=u[1],b=Object(r.useState)("Player1"),d=Object(s.a)(b,2),m=d[0],g=d[1],v=Object(r.useState)("Click enemy grid to fire!"),S=Object(s.a)(v,2),x=S[0],y=S[1],N=Object(r.useState)(!1),k=Object(s.a)(N,2),C=k[0],T=k[1];return Object(r.useEffect)((function(){"Click enemy grid to fire!"!==x&&T(!0)}),[x]),Object(p.jsxs)("div",{className:"page",children:[Object(p.jsx)("h1",{children:"Battleship"}),C&&Object(p.jsx)("button",{onClick:function(){return window.location.reload()},children:"Reset Game!"}),l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:x}),Object(p.jsxs)("div",{className:"names",children:[Object(p.jsx)("h2",{className:"flex",children:j.board}),Object(p.jsx)("h2",{children:"vs"}),Object(p.jsx)("h2",{className:"flex",children:O.board})]})]}):Object(p.jsxs)("h2",{children:["place your ",Object(p.jsx)("p",{children:n.name})]}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(f,{player:j,currentShip:n,setCurrentShip:i,setStartGame:h,turn:m,setTurn:g,setTitleText:y}),l&&Object(p.jsx)(f,{player:O,turn:m,setTurn:g,setTitleText:y})]})]})};var P=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(T,{})})};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.8d90bc0a.chunk.js.map